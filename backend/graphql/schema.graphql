scalar PosixTime

type Query {
    artist(id: Int!): Artist
    artistFromName(name: String!): Artist
    collection(id: Int!): Collection
    collectionFromNameAndType(name: String!, type: CollectionType): Collection
    release(id: Int!): Release
    track(id: Int!): Track
    user: User

    # TODO: Fetching multiples.
}

type Artist {
    id: Int!
    name: String!
    favorite: Boolean!
    numReleases: Int!

    releases: [Release]
    topGenres: [TopGenre]
}

type Collection {
    id: Int!
    name: String!
    type: CollectionType!
    numReleases: Int
    lastUpdatedOn: PosixTime

    releases: [Release]
    topGenres: [TopGenre]
}

type Release {
    id: Int!
    title: String!
    releaseType: ReleaseType!
    addedOn: PosixTime!
    inInbox: Boolean!
    releaseYear: Int!
    numTracks: Int!
    releaseDate: String
    imagePath: String

    artists: [Artist]
    tracks: [Track]
    genres: [Collection]
    labels: [Collection]
    collages: [Collection]
}

type Track {
    id: Int!
    title: String!
    duration: Int!
    trackNumber: String!
    discNumber: String

    release: [Release]
    artists: [TrackArtist]
}

type TrackArtist {
    role: ArtistRole!
    artist: Artist!
}

type TopGenre {
    genre: Collection!
    numMatches: Int!
}

type User {
    id: Int!
    username: String!
}

enum ArtistRole {
    MAIN
    FEATURE
    REMIXER
    PRODUCER
    COMPOSER
    CONDUCTOR
    DJMIXER
}

enum ReleaseType {
    ALBUM
    SINGLE
    EP
    COMPILATION
    SOUNDTRACK
    SPOKENWORD
    LIVE
    REMIX
    DJMIX
    MIXTAPE
    OTHER
    UNKNOWN
}

enum CollectionType {
    SYSTEM
    COLLAGE
    LABEL
    GENRE
    RATING
}

enum ReleaseSort {
    RECENTLY_ADDED
    TITLE
    YEAR
    RANDOM
}
